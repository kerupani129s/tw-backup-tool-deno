(()=>{const d=e=>{try{return e.querySelector('div[role="button"][data-testid]').dataset.testid.match(/^([0-9]+)-/)[1]}catch{return}},l=(e,n)=>{const t=e.querySelectorAll('div[data-testid="UserCell"]');if(t)for(const o of t){const r=d(o);typeof r>"u"||n.every(s=>s.id!==r)&&n.push({id:r,html:o.outerHTML})}},a=e=>{const n=location.pathname.match(/^\/[^/]+\/(followers|following)$/)?.[1];if(!n)return;const t=[],o=document.createElement("button");o.type="button",o.textContent="Save",o.style="height: 32px;",e.appendChild(o),o.addEventListener("click",()=>{console.log(`User count: ${t.length}`);const s=JSON.stringify(t,null,4),u=new Blob([s],{type:"application/json"}),c=document.createElement("a");c.href=URL.createObjectURL(u),c.download=`${n}.json`,c.click()}),scrollTo(0,0),new MutationObserver(()=>{l(e,t)}).observe(e,{subtree:!0,childList:!0}),l(e,t)},i=document.querySelector('h1[aria-level="1"] + div[aria-label]'),b=document.querySelectorAll('[role="tab"]'),v=new MutationObserver(()=>{a(i)});for(const e of b)v.observe(e,{attributeFilter:["aria-selected"]});a(i);setInterval(()=>{scrollBy(0,48)},100);})();
